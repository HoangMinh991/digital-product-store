<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" dir="ltr" lang="vi">
    <head th:replace = "~{fragment/fragment ::head}">

    </head>
    <body>
        <link rel="stylesheet" th:href="@{/css/product.css}"/>
        <div class="top-header">
            <div class="container">
                <div class="text-right" style="padding:5px 0;float: right">
                    Hỗ trợ 1900 633 305
                </div>
            </div>
        </div>
        <header th:replace = "~{fragment/fragment ::header}"> 
        </header>
        <div th:replace = "~{fragment/fragment ::menutop}">
        </div>
        <script th:src="@{/js/node.js}"></script>
        <style>
            .banner-home .menu-2 .header-menu div.nav-menu {
                display: none;
                height: auto;
                margin: auto;
                width: 100%;
            }
        </style>
        <div class="trang-sp chi-tiet-sp">
            <div class="container" style="margin-top: 0">
                <ul class="breadcrumb">
                    <li itemscope="" itemtype="">
                        <a href="" itemprop="url" style="color: #7b7b7b;"><span itemprop="title"><i class="fa fa-home"></i></span></a>
                    </li>
                    <li itemscope="" itemtype="">
                        <a href="" itemprop="url" style="color: #7b7b7b;"><span itemprop="title" th:text="${productDto.name}"></span></a>
                    </li>
                </ul>
                <div class="container-title title-detail-product">
                    <div class="fontSize-title" th:text="${productDto.name}"></div>
                </div>
                <div class="container-body">
                    <div class="sp-header clearfix">
                        <div class="slider-container">
                            <div class="slider sp-slider-big">
                                <div class="img-item">
                                    <div class="click_show_slide" onclick="click_show_slide()" style="height: 100%;width: 100%;">
                                        <img th:src="${productDto.img}" title="" alt="" class="slide-product-big">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="sp-info">
                            <div class="sp-info-top">
                                <div class="sp-info-top-item col-md-4 col-xs-4 col-sm-4">
                                    <div class="sp-info-top-item-icon"><img style="width: 20px;" src="https://divineshop.vn/assets/resources/item-icon-1.png"></div>
                                    <div class="text-wrap">
                                        <div class="text">Mã sản phẩm</div>
                                        <div class="text-1" th:text="${productDto.id}">r</div>
                                    </div>
                                </div>
                                <div class="sp-info-top-item col-md-4 col-xs-4 col-sm-4">
                                    <div class="sp-info-top-item-icon"><img style="width: 20px;" src="https://divineshop.vn/assets/resources/item-icon-2.png"></div>
                                    <div class="text-wrap">
                                        <div class="text">Tình trạng</div>
                                        <th:block th:if="${productDto.numberCode > 0}">
                                            <span style="color:#53af2e; font-weight:bold;">Còn hàng</span>
                                        </th:block>
                                        <th:block th:unless="${productDto.numberCode > 0}">
                                            <span style="color:#ff0000; font-weight:bold;">Hết hàng</span>
                                        </th:block>
                                    </div>
                                </div>
                                <div class="sp-info-top-item col-md-4 col-xs-4 col-sm-4">
                                    <div class="sp-info-top-item-icon"><img style="width: 35px;" src="https://divineshop.vn/assets/resources/item-icon-3.png"></div>
                                    <div class="text-wrap">
                                        <div class="text">Link gốc</div>
                                        <p><a href="" target="_blank" rel="nofollow">Sản phẩm</a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="sp-price-text">Giá sản phẩm</div>
                            <div class="sp-price-new">
                                <div class="price" th:text="${#numbers.formatDecimal(productDto.priceNew, 0, 'POINT', 0, 'POINT')}+ ' đ'"></div>
                                <th:block th:if ="${productDto.priceNew < productDto.priceOld}">                
                                    <span class="old-p" style="text-decoration: line-through" th:text="${#numbers.formatDecimal(productDto.priceOld, 0, 'POINT', 0, 'POINT')}+ ' đ'"></span>
                                    <span class="dis-p" th:text="${'-' + #numbers.formatDecimal(100-productDto.priceNew*1.0 / productDto.priceOld * 100, 0, 'POINT', 0, 'POINT')}+ '%'"></span>
                                </th:block>
                            </div>
                            <div id="product">
                                <hr/>
                                <div class="row bar-info-product d-flex">
                                    <div class="col-md-3 col-xs-12" style="padding: 0 0 10px 15px;">
                                        <label>Số lượng:</label>
                                        <br/>
                                        <div class="qty" style="display: -webkit-inline-box;">
                                            <a class="qtyBtn mines" href="javascript:myFunctionMinus();">-</a>
                                            <input type="text" name="quantity" value="1" size="2" id="input-quantity" class="form-control" style="width:46px;height:26px;font-weight: bold;text-align: center;border-radius:0"/>
                                            <a class="qtyBtn plus" href="javascript:myFunctionPlus();">+</a>
                                            <input type="hidden" name="product_id" th:value="${productDto.id}">
                                        </div>
                                    </div>
                                    <div class="col-md-9 col-xs-12 bar-buy-product">
                                        <a id="muaNgay" th:href="@{/cart/buy(productId=${productDto.id}, fast=1)}">
                                            <div id="button-cart-redirect" data-loading-text="Đang tải..." class="btn btn-green-bg col-md-5" style="margin-top: 12px;width: 144px">Mua Ngay
                                            </div></a>

                                        <a id="myAnchor" th:href="@{/cart/buy(productId=${productDto.id})}"><div id="button-cart" data-loading-text="Đang tải..." class="btn btn-orange-bg col-md-5 add-cart-orange" style="width: 144px">
                                                <i class="fa fa-shopping-cart text-left"> </i> &nbsp;Thêm vào giỏ                                    </div></a>
                                    </div>
                                </div>

                            </div>
                            <hr/>
                            <div class="tags"><img src="./assets/resources/tags.png"><b>Tag:</b>
                            </div>
                        </div>
                    </div>
                    <div class="sp-body-info clearfix">
                    </div>

                    <div class="more-view-description limit-height">
                        <hr style="border: 0.5px solid #aaa4a4;"/>
                        <div class="list-title">
                            <div class="fontSize-title">Chi tiết sản phẩm</div>
                        </div>
                        <div class="description-container">


                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            function myFunctionPlus() {
                var x = document.getElementsByName("quantity")[0].value;
                document.getElementsByName("quantity")[0].value = +x + 1;
                var productID = document.getElementsByName("product_id")[0].value;
                document.getElementById("myAnchor").href = "/cart/buy?productId=" + productID + "&quantity=" + document.getElementsByName("quantity")[0].value;
                document.getElementById("muaNgay").href = "/cart/buy?productId=" + productID + "&quantity=" + document.getElementsByName("quantity")[0].value + "&fast=1";
            }
            function myFunctionMinus() {
                var x = document.getElementsByName("quantity")[0].value;
                if (+x > 1) {
                    document.getElementsByName("quantity")[0].value = +x - 1;
                    var productID = document.getElementsByName("product_id")[0].value;
                    document.getElementById("myAnchor").href = "/cart/buy?productId=" + productID + "&quantity=" + document.getElementsByName("quantity")[0].value;
                    document.getElementById("muaNgay").href = "/cart/buy?productId=" + productID + "&quantity=" + document.getElementsByName("quantity")[0].value + "&fast=1";
                }
            }
        </script>
    </body>
    <footer th:replace = "~{fragment/fragment ::footer}">
    </footer>
</html>
